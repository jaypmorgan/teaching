<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-09-19 Mon 16:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Programming Level-up</title>
<meta name="author" content="Jay Morgan" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">Programming Level-up
<br />
<span class="subtitle">Lecture 3 - Modules &amp; Development Environments</span>
</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgc9135d9">1. Modules</a>
<ul>
<li><a href="#org36c5c14">1.1. Python Modules</a>
<ul>
<li><a href="#orgcf90d31">1.1.1. Importing in python</a></li>
<li><a href="#orge77307b">1.1.2. The basic structure of importing</a></li>
<li><a href="#orgd803701">1.1.3. The basic structure of importing</a></li>
<li><a href="#org8d0e8cc">1.1.4. Importing specific items</a></li>
<li><a href="#org50ba65e">1.1.5. Don't do this!</a></li>
<li><a href="#org4bfb5f6">1.1.6. Don't do this!</a></li>
<li><a href="#orgf9b6214">1.1.7. Alias</a></li>
<li><a href="#org14d032d">1.1.8. Importing local libraries</a></li>
<li><a href="#org1f3b834">1.1.9. Importing local libraries</a></li>
<li><a href="#org000621e">1.1.10. Quick exercise &#x2013; imports</a></li>
<li><a href="#orga7bdfbe">1.1.11. Shortcuts with <code>__init__.py</code></a></li>
<li><a href="#org6f371fe">1.1.12. What is <code>__main__</code>?</a></li>
<li><a href="#orgb35658f">1.1.13. What is <code>__main__</code>?</a></li>
<li><a href="#orgba82e86">1.1.14. What is <code>__main__</code>?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7fd0bf5">2. Working with Files and Directories</a>
<ul>
<li><a href="#org6b2d7e0">2.1. Paths</a>
<ul>
<li><a href="#orgcf18714">2.1.1. Current working directory</a></li>
<li><a href="#orge5fff76">2.1.2. Listing directories</a></li>
<li><a href="#org0a6e47d">2.1.3. Testing for files or directories</a></li>
<li><a href="#org13bc8bc">2.1.4. Using wildcards</a></li>
<li><a href="#orgcbdbf40">2.1.5. Pathlib &#x2013; a newer way</a></li>
<li><a href="#orga0b5f41">2.1.6. Pathlib &#x2013; convenient functions</a></li>
<li><a href="#org11efba3">2.1.7. Converting Path into a string</a></li>
<li><a href="#org2cb5a96">2.1.8. Quick exercise &#x2013; locating files</a></li>
</ul>
</li>
<li><a href="#org3536904">2.2. Files</a>
<ul>
<li><a href="#org30053ff">2.2.1. Reading files</a></li>
<li><a href="#org2b9c0dc">2.2.2. Reading files &#x2013; lines or entire file?</a></li>
<li><a href="#org297839d">2.2.3. Reading files</a></li>
<li><a href="#org1b6b18e">2.2.4. Writing files</a></li>
<li><a href="#org6e3719a">2.2.5. Appending to files</a></li>
<li><a href="#org63fef57">2.2.6. Quick exercise &#x2013; reading/writing files</a></li>
<li><a href="#org75e1f81">2.2.7. Reading CSV files &#x2013; builtin</a></li>
<li><a href="#org6e63fdd">2.2.8. Writing a CSV file &#x2013; builtin</a></li>
<li><a href="#org4e90268">2.2.9. Quick exercise &#x2013; reading/writing CSV files</a></li>
<li><a href="#org2fb2476">2.2.10. Read JSON files &#x2013; builtin</a></li>
<li><a href="#org8090dec">2.2.11. Write JSON files &#x2013; builtin</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org557545a">3. Package Management</a>
<ul>
<li><a href="#orge199513">3.1. Package Management</a>
<ul>
<li><a href="#orgde3076f">3.1.1. Introduction</a></li>
<li><a href="#orgf9863ca">3.1.2. Virtual Environments</a></li>
</ul>
</li>
<li><a href="#orgfab2444">3.2. Anaconda</a>
<ul>
<li><a href="#org8efefe0">3.2.1. What is Anaconda?</a></li>
<li><a href="#org67e8e35">3.2.2. Installing Anaconda</a></li>
<li><a href="#org66f80df">3.2.3. Working with Anaconda &#x2013; creating an environment</a></li>
<li><a href="#orgaca128a">3.2.4. Working with Anaconda &#x2013; activating an environment</a></li>
<li><a href="#org7e2fb11">3.2.5. Working with Anaconda &#x2013; de-activating an environment</a></li>
<li><a href="#org995a492">3.2.6. Working with Anaconda &#x2013; installing using conda</a></li>
<li><a href="#org6d4681d">3.2.7. Working with Anaconda &#x2013; package versions</a></li>
<li><a href="#org137a72c">3.2.8. Installing a specific version of Python</a></li>
<li><a href="#orga5422ab">3.2.9. Working with Anaconda &#x2013; conda-forge and other repositories</a></li>
<li><a href="#orga33edd5">3.2.10. Working with Anaconda &#x2013; exporting an environment</a></li>
<li><a href="#org12b4ea6">3.2.11. Working with Anaconda &#x2013; creating environment from existing</a></li>
</ul>
</li>
<li><a href="#org6a4cec3">3.3. Pip</a>
<ul>
<li><a href="#orgcbc9299">3.3.1. What is Pip?</a></li>
<li><a href="#org0649795">3.3.2. Installing packages with pip</a></li>
<li><a href="#org9e8ffaa">3.3.3. Installing specific versions</a></li>
<li><a href="#org2e17f38">3.3.4. Upgrade packages with pip</a></li>
<li><a href="#org544a316">3.3.5. Export requirements file</a></li>
<li><a href="#orgbc7cb83">3.3.6. Installing multiple packages from a requirements file</a></li>
<li><a href="#orgbc7087b">3.3.7. Anaconda handles both conda and pip</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org80e211e">4. Better development environments</a>
<ul>
<li><a href="#org22fd817">4.1. PyCharm</a>
<ul>
<li><a href="#org33e1085">4.1.1. PyCharm</a></li>
<li><a href="#org1206e9b">4.1.2. PyCharm &#x2013; installing</a></li>
<li><a href="#org04e250f">4.1.3. PyCharm &#x2013; using PyCharm</a></li>
</ul>
</li>
<li><a href="#org4c72fa0">4.2. Jupyter</a>
<ul>
<li><a href="#orge0949cf">4.2.1. What is a Jupyter notebook?</a></li>
<li><a href="#org4c97ccf">4.2.2. Installing Jupyter</a></li>
<li><a href="#org9fa7ac4">4.2.3. Starting the server</a></li>
<li><a href="#org20697f3">4.2.4. Using the interface</a></li>
<li><a href="#org167fdb5">4.2.5. Markdown 101</a></li>
<li><a href="#orga010e79">4.2.6. A slightly better environment &#x2013; jupyterlab</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org104e343">5. Style guide-line</a>
<ul>
<li><a href="#org2f2811e">5.1. Styles</a>
<ul>
<li><a href="#org0a487ad">5.1.1. A sense of style</a></li>
<li><a href="#org1978abd">5.1.2. Meaningful names</a></li>
<li><a href="#org891cd6c">5.1.3. Meaningful names</a></li>
<li><a href="#org2e211f2">5.1.4. Use builtins where possible</a></li>
<li><a href="#org01be934">5.1.5. Use docstrings and comments</a></li>
<li><a href="#org80c1c1e">5.1.6. Using agreed upon casing</a></li>
<li><a href="#org2798fb5">5.1.7. Use type-annotations if possible</a></li>
<li><a href="#orge11898d">5.1.8. Organise your imports</a></li>
<li><a href="#orgd56d8ed">5.1.9. Functions should do one thing only</a></li>
<li><a href="#orgab1bf76">5.1.10. Functions as re-usability</a></li>
<li><a href="#orgb5531f1">5.1.11. Be wary of God classes</a></li>
<li><a href="#org70bfdf9">5.1.12. Documentation</a></li>
<li><a href="#org10cece7">5.1.13. Perform testing!</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc9135d9" class="outline-2">
<h2 id="orgc9135d9"><span class="section-number-2">1.</span> Modules</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org36c5c14" class="outline-3">
<h3 id="org36c5c14"><span class="section-number-3">1.1.</span> Python Modules</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-orgcf90d31" class="outline-4">
<h4 id="orgcf90d31"><span class="section-number-4">1.1.1.</span> Importing in python</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
<img src="images/python.png" alt="python.png" />
<a href="https://xkcd.com/353/">https://xkcd.com/353/</a>
</p>
</div>
</div>

<div id="outline-container-orge77307b" class="outline-4">
<h4 id="orge77307b"><span class="section-number-4">1.1.2.</span> The basic structure of importing</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Modules or packages are other <i>scripts or programs</i> that can be imported into other
scripts. This definition is very general, but we shall see how flexible importing in
Python can be.
</p>

<p>
The basic syntax of importing is:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> &lt;package_name&gt;

&lt;package_name&gt;.&lt;function/<span style="color: #C678DD;">class</span>/variable/etc&gt;
</pre>
</div>

<p>
If we import <code>&lt;package_name&gt;</code> using this syntax, we always have to use the dot <code>.</code> syntax
to refer to something within this package.
</p>
</div>
</div>

<div id="outline-container-orgd803701" class="outline-4">
<h4 id="orgd803701"><span class="section-number-4">1.1.3.</span> The basic structure of importing</h4>
<div class="outline-text-4" id="text-1-1-3">
<p>
Let's take a look at a very basic example.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> math

<span style="color: #E06C75;">radius</span> = 6.4  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">cm</span>
<span style="color: #E06C75;">circum</span> = 2 * math.pi * radius
</pre>
</div>

<p>
In this example, we are importing the built-in <code>math</code> package. This package contains a
bunch of useful functions and variables. We're not going to take a look at them
here, as we're focusing on importing, but you can see we're referring to a variable
called <code>pi</code> to calculate the circumference of a circle.
</p>
</div>
</div>

<div id="outline-container-org8d0e8cc" class="outline-4">
<h4 id="org8d0e8cc"><span class="section-number-4">1.1.4.</span> Importing specific items</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
If we didn't always want to specify the package name when we only want to use
something specific from a package, we can directly import that something.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> &lt;package_name&gt; <span style="color: #C678DD;">import</span> &lt;function/<span style="color: #C678DD;">class</span>/variable/etc&gt;

&lt;function/<span style="color: #C678DD;">class</span>/variable/etc&gt;
</pre>
</div>

<p>
As you can see, we're using the <code>from ... import ...</code> syntax.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> math <span style="color: #C678DD;">import</span> pi

<span style="color: #E06C75;">circumference</span> = 2 * pi * radius
</pre>
</div>
</div>
</div>

<div id="outline-container-org50ba65e" class="outline-4">
<h4 id="org50ba65e"><span class="section-number-4">1.1.5.</span> Don't do this!</h4>
<div class="outline-text-4" id="text-1-1-5">
<p>
When using <code>from ... import ...</code>, there is a wildcard <code>*</code> that we <b>could</b> use. You may
sometimes see this style of importing when looking at documentation online:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> &lt;package_name&gt; <span style="color: #C678DD;">import</span> *

&lt;function/<span style="color: #C678DD;">class</span>/variable/etc&gt;
</pre>
</div>

<p>
However, this can create many problems with reading your program code
</p>
</div>
</div>

<div id="outline-container-org4bfb5f6" class="outline-4">
<h4 id="org4bfb5f6"><span class="section-number-4">1.1.6.</span> Don't do this!</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
Which module does <code>my_function()</code> originate? Are there are common names between the
two? Which would be used?
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> my_module <span style="color: #C678DD;">import</span> *
<span style="color: #C678DD;">from</span> my_second_module <span style="color: #C678DD;">import</span> *

my_function()
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9b6214" class="outline-4">
<h4 id="orgf9b6214"><span class="section-number-4">1.1.7.</span> Alias</h4>
<div class="outline-text-4" id="text-1-1-7">
<p>
When importing, we can optionally create an alias to a symbol. Here we're creating an
alias to the existing <code>pi</code> in <code>math</code>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> math <span style="color: #C678DD;">import</span> pi <span style="color: #C678DD;">as</span> decilious_pi

<span style="color: #E06C75;">circumference</span> = 2 * delicious_pi * radius
</pre>
</div>

<p>
There are some very common conventions of aliasing very highly used packages that we
will definitely revisit in another lecture!
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> numpy <span style="color: #C678DD;">as</span> np
<span style="color: #C678DD;">import</span> pandas <span style="color: #C678DD;">as</span> pd
<span style="color: #C678DD;">import</span> matplotlib.pyplot <span style="color: #C678DD;">as</span> plt
</pre>
</div>
</div>
</div>

<div id="outline-container-org14d032d" class="outline-4">
<h4 id="org14d032d"><span class="section-number-4">1.1.8.</span> Importing local libraries</h4>
<div class="outline-text-4" id="text-1-1-8">
<p>
let's consider a hypothetical local directory:
</p>

<div class="org-src-container">
<pre class="src src-bash">main.py
src/
 |-- my_module.py
 |-- module_1/
        |-- cats.py
        |-- dogs.py
</pre>
</div>

<p>
If we wanted to import something from <code>my_module.py</code> we would do:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> src.my_module <span style="color: #C678DD;">import</span> MyAwesomeClass

<span style="color: #E06C75;">my_class</span> = MyAwesomeclass()
</pre>
</div>
</div>
</div>

<div id="outline-container-org1f3b834" class="outline-4">
<h4 id="org1f3b834"><span class="section-number-4">1.1.9.</span> Importing local libraries</h4>
<div class="outline-text-4" id="text-1-1-9">
<div class="org-src-container">
<pre class="src src-bash">main.py
src/
 |-- my_module.py
 |-- module_1/
        |-- cats.py
        |-- dogs.py
</pre>
</div>

<p>
Here is another example for increased nesting of directories:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> src.module_1 <span style="color: #C678DD;">import</span> cats
<span style="color: #C678DD;">from</span> src.module_1.dogs <span style="color: #C678DD;">import</span> Dog

<span style="color: #E06C75;">cat</span> = cats.Cat()
<span style="color: #E06C75;">dog</span> = Dog()
</pre>
</div>
</div>
</div>


<div id="outline-container-org000621e" class="outline-4">
<h4 id="org000621e"><span class="section-number-4">1.1.10.</span> Quick exercise &#x2013; imports</h4>
<div class="outline-text-4" id="text-1-1-10">
<ul class="org-ul">
<li>Create a directory to store your scripts</li>
<li>In this directory, create a file called <code>main.py</code>.</li>
<li>Create a sub-directory called <code>src</code>. In <code>src</code> create another file called <code>library.py</code>.</li>
<li>In <code>library.py</code> create a class (that doesn't do anything right now) called <code>Database</code>.</li>
<li>In <code>main.py</code>, create an instance of <code>Database</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orga7bdfbe" class="outline-4">
<h4 id="orga7bdfbe"><span class="section-number-4">1.1.11.</span> Shortcuts with <code>__init__.py</code></h4>
<div class="outline-text-4" id="text-1-1-11">
<p>
Let's say you often import <code>Cat</code> and <code>Dog</code>. We can use a file called <code>__init__.py</code> to help
us and make the imports shorter. This fill gets executed when its module is imported.
</p>

<div class="org-src-container">
<pre class="src src-bash">main.py
src/
 |-- my_module.py
 |-- module_1/
        |-- __init__.py
        |-- cats.py
        |-- dogs.py
</pre>
</div>

<p>
In <code>__init__.py</code>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> cats <span style="color: #C678DD;">import</span> Cat
<span style="color: #C678DD;">from</span> dogs <span style="color: #C678DD;">import</span> Dog
</pre>
</div>

<p>
In <code>main.py</code>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> src.module_1 <span style="color: #C678DD;">import</span> Cat, Dog
</pre>
</div>
</div>
</div>

<div id="outline-container-org6f371fe" class="outline-4">
<h4 id="org6f371fe"><span class="section-number-4">1.1.12.</span> What is <code>__main__</code>?</h4>
<div class="outline-text-4" id="text-1-1-12">
<p>
Consider a file with the following:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">x</span> = 2
<span style="color: #E06C75;">y</span> = 1
<span style="color: #E06C75;">z</span> = x + y

<span style="color: #C678DD;">class</span> <span style="color: #E5C07B;">MyAwesomeClass</span>:
    ...
</pre>
</div>

<p>
If we import this file in another script, <code>x, y,</code> and <code>z</code> will be computed. In this very
simple case this will have very little impact. But what if the computation of these
takes a very long time?
</p>
</div>
</div>

<div id="outline-container-orgb35658f" class="outline-4">
<h4 id="orgb35658f"><span class="section-number-4">1.1.13.</span> What is <code>__main__</code>?</h4>
<div class="outline-text-4" id="text-1-1-13">
<p>
Here we are wrapping any global computations into a appropriate functions. This
prevents the global variables being computed as soon as the script is imported.
</p>

<p>
Now, if we wanted to compute x, y, and z if this script is run, we could use:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">if</span> <span style="color: #56B6C2;">__name__</span> == <span style="color: #98C379;">"__main__"</span>:
    <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">do something</span>
</pre>
</div>

<p>
Anything within the scope of the <code>if</code> function will only be run if the current file is
the script that is being run directly (i.e. <code>python &lt;the-file&gt;.py</code>). If the script is
being imported, the statements within this if scope will not be run.
</p>
</div>
</div>

<div id="outline-container-orgba82e86" class="outline-4">
<h4 id="orgba82e86"><span class="section-number-4">1.1.14.</span> What is <code>__main__</code>?</h4>
<div class="outline-text-4" id="text-1-1-14">
<p>
So if we wanted to run <code>compute()</code> if this file is being run directly, we would write:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">compute</span>():
    <span style="color: #E06C75;">x</span> = 2
    <span style="color: #E06C75;">y</span> = 1
    <span style="color: #E06C75;">z</span> = x + y

<span style="color: #C678DD;">class</span> <span style="color: #E5C07B;">MyAwesomeClass</span>:
    ...

<span style="color: #C678DD;">if</span> <span style="color: #56B6C2;">__name__</span> == <span style="color: #98C379;">"__main__"</span>:
    compute()
    <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">we can of course use MyAwesomeClass as well</span>
    my_class = MyAwesomeClass()
    my_class.do_something()
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org7fd0bf5" class="outline-2">
<h2 id="org7fd0bf5"><span class="section-number-2">2.</span> Working with Files and Directories</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org6b2d7e0" class="outline-3">
<h3 id="org6b2d7e0"><span class="section-number-3">2.1.</span> Paths</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgcf18714" class="outline-4">
<h4 id="orgcf18714"><span class="section-number-4">2.1.1.</span> Current working directory</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
The folder in which you run Python will be the <i>current working directory (CWD)</i>. We can
print this value with the <code>os.getcwd()</code> function, or change the directory with
<code>os.chdir(...)</code>. Its important to know what your CWD is as all relative paths (paths
that do not start with a '/') will be relative to your CWD.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> os

<span style="color: #56B6C2;">print</span>(os.getcwd())
os.chdir(<span style="color: #98C379;">"../"</span>)
<span style="color: #56B6C2;">print</span>(os.getcwd())
os.chdir(<span style="color: #98C379;">"week-3"</span>)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; [...]/Programming Level-up/week-3
# =&gt; [...]/Programming Level-up
</pre>


<p>
I've replaced the full path printed by Python with <code>[...]</code> so you can see the
differences in the paths!
</p>
</div>
</div>

<div id="outline-container-orge5fff76" class="outline-4">
<h4 id="orge5fff76"><span class="section-number-4">2.1.2.</span> Listing directories</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Continuing with our usage of the <code>os</code> package, we can use the <code>listdir</code> function to list
all files within a directory.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #56B6C2;">print</span>(os.listdir())
<span style="color: #56B6C2;">print</span>(os.listdir(<span style="color: #98C379;">"images/"</span>))
</pre>
</div>

<pre class="example">
Results: 
# =&gt; ['images', '__pycache__', 'lecture.pdf', 'lecture.tex', 'data', 'test_file_1.py', 'lecture.org', '_minted-lecture', 'test_file_2.py']
# =&gt; ['legend-2.png', 'fig-size.png', 'basic.png', 'subplots.png', 'python.png', 'pycharm01.png', 'installing-scikit-learn.png', 'pycharm02.png', 'PyCharm_Icon.png', 'axis.png', 'legend.png', 'complex-pycharm.jpg']
</pre>


<p>
This returns a list of files and directory relative to your current working
directory. Notice how from this list you cannot tell if something is a file or
directory (though the filename does provide some hint).
</p>
</div>
</div>

<div id="outline-container-org0a6e47d" class="outline-4">
<h4 id="org0a6e47d"><span class="section-number-4">2.1.3.</span> Testing for files or directories</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
In the previous example we saw that the items returned by <code>listdir</code> does not specify if
the item is a file or directory. However, <code>os</code> provides an <code>isfile</code> function in the <code>path</code>
submodule to test if the argument is a file, else it will be a directory.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">for</span> path <span style="color: #C678DD;">in</span> os.listdir():
    <span style="color: #56B6C2;">print</span>(f<span style="color: #98C379;">"</span>{path}<span style="color: #98C379;"> =&gt; is file: </span>{os.path.isfile(path)}<span style="color: #98C379;">"</span>)
</pre>
</div>

<pre class="example" id="org0d69e83">
Results: 
# =&gt; images =&gt; is file: False
# =&gt; __pycache__ =&gt; is file: False
# =&gt; lecture.pdf =&gt; is file: True
# =&gt; lecture.tex =&gt; is file: True
# =&gt; data =&gt; is file: False
# =&gt; test_file_1.py =&gt; is file: True
# =&gt; lecture.org =&gt; is file: True
# =&gt; _minted-lecture =&gt; is file: False
# =&gt; test_file_2.py =&gt; is file: True
</pre>
</div>
</div>

<div id="outline-container-org13bc8bc" class="outline-4">
<h4 id="org13bc8bc"><span class="section-number-4">2.1.4.</span> Using wildcards</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
If we wanted to get all files within a directory, we could use the <code>glob</code> function from
the <code>glob</code> package. <code>glob</code> allows us to use the <code>*</code> wildcard. E.g. <code>*.png</code> will list all
files that end with <code>.png</code>. <code>test-*</code> will list all files that start with <code>test-*</code>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> glob <span style="color: #C678DD;">import</span> glob

<span style="color: #C678DD;">for</span> fn <span style="color: #C678DD;">in</span> glob(<span style="color: #98C379;">"images/*"</span>):
    <span style="color: #56B6C2;">print</span>(fn)
</pre>
</div>

<pre class="example" id="orgb23402a">
Results: 
# =&gt; images/legend-2.png
# =&gt; images/fig-size.png
# =&gt; images/basic.png
# =&gt; images/subplots.png
# =&gt; images/python.png
# =&gt; images/pycharm01.png
# =&gt; images/installing-scikit-learn.png
# =&gt; images/pycharm02.png
# =&gt; images/PyCharm_Icon.png
# =&gt; images/axis.png
# =&gt; images/legend.png
# =&gt; images/complex-pycharm.jpg
</pre>
</div>
</div>

<div id="outline-container-orgcbdbf40" class="outline-4">
<h4 id="orgcbdbf40"><span class="section-number-4">2.1.5.</span> Pathlib &#x2013; a newer way</h4>
<div class="outline-text-4" id="text-2-1-5">
<p>
<code>pathlib</code> is a somewhat recent addition to the Python standard library which makes
working with files a little easier. Firstly, we can create a <code>Path</code> object, allowing us
to concatenate paths with the <code>/</code>. Instead of using the <code>glob</code> module, a <code>Path</code> object has
a <code>glob</code> class method.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> pathlib <span style="color: #C678DD;">import</span> Path

<span style="color: #E06C75;">data_dir</span> = Path(<span style="color: #98C379;">"data"</span>)
<span style="color: #E06C75;">processed_data</span> = data_dir / <span style="color: #98C379;">"processed"</span>

<span style="color: #E06C75;">data_files</span> = processed_data.glob(<span style="color: #98C379;">"*.txt"</span>)

<span style="color: #C678DD;">for</span> data_file <span style="color: #C678DD;">in</span> data_files:
    <span style="color: #56B6C2;">print</span>(data_file)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; data/processed/data-2.txt
# =&gt; data/processed/data.txt
</pre>
</div>
</div>

<div id="outline-container-orga0b5f41" class="outline-4">
<h4 id="orga0b5f41"><span class="section-number-4">2.1.6.</span> Pathlib &#x2013; convenient functions</h4>
<div class="outline-text-4" id="text-2-1-6">
<p>
<code>pathlib</code> allows us to easily decompose a path into different components. Take for
example getting the filename of a path with <code>.name</code>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">from</span> pathlib <span style="color: #C678DD;">import</span> Path

<span style="color: #E06C75;">some_file</span> = Path(<span style="color: #98C379;">"data/processed/data.txt"</span>)

<span style="color: #56B6C2;">print</span>(some_file.parts)  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">get component parts</span>
<span style="color: #56B6C2;">print</span>(some_file.parents[0])  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">list of parent dirs</span>
<span style="color: #56B6C2;">print</span>(some_file.name)   <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">only filename</span>
<span style="color: #56B6C2;">print</span>(some_file.suffix) <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">extension</span>
</pre>
</div>

<pre class="example">
Results: 
# =&gt; ('data', 'processed', 'data.txt')
# =&gt; data/processed
# =&gt; data.txt
# =&gt; .txt
</pre>
</div>
</div>

<div id="outline-container-org11efba3" class="outline-4">
<h4 id="org11efba3"><span class="section-number-4">2.1.7.</span> Converting Path into a string</h4>
<div class="outline-text-4" id="text-2-1-7">
<p>
As <code>pathlib</code> is a recent addition to Python, some functions/classes are expecting a <code>str</code>
representation of the path, not a <code>Path</code> object. Therefore, you may want to use the <code>str</code>
function to convert a <code>Path</code> object to a string.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #56B6C2;">str</span>(Path(<span style="color: #98C379;">"data/"</span>))
</pre>
</div>

<pre class="example">
Results: 
# =&gt; 'data'
</pre>
</div>
</div>


<div id="outline-container-org2cb5a96" class="outline-4">
<h4 id="org2cb5a96"><span class="section-number-4">2.1.8.</span> Quick exercise &#x2013; locating files</h4>
<div class="outline-text-4" id="text-2-1-8">
<ul class="org-ul">
<li>In the same directory of scripts you created in the last exercise, create another
directory called <code>data</code>.</li>
<li>In data, create 3 text files, calling them <code>&lt;book_name&gt;.txt</code>.</li>
<li>These each text file should contain the information from table below in the format:</li>
</ul>

<pre class="example">
Name: &lt;book_name&gt;
Author: &lt;author&gt;
Release Year: &lt;release_year&gt;
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Title</th>
<th scope="col" class="org-left">Author</th>
<th scope="col" class="org-right">Release Date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Moby Dick</td>
<td class="org-left">Herman Melville</td>
<td class="org-right">1851</td>
</tr>

<tr>
<td class="org-left">A Study in Scarlet</td>
<td class="org-left">Sir Arthur Conan Doyle</td>
<td class="org-right">1887</td>
</tr>

<tr>
<td class="org-left">Frankenstein</td>
<td class="org-left">Mary Shelley</td>
<td class="org-right">1818</td>
</tr>

<tr>
<td class="org-left">Hitchhikers Guide to the Galaxy</td>
<td class="org-left">Douglas Adams</td>
<td class="org-right">1979</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>From <code>main.py</code>, print out all of the text files in the directory.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org3536904" class="outline-3">
<h3 id="org3536904"><span class="section-number-3">2.2.</span> Files</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org30053ff" class="outline-4">
<h4 id="org30053ff"><span class="section-number-4">2.2.1.</span> Reading files</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
To read a file, we must first open it with the <code>open</code> function. This returns a file
stream to which we can call the <code>read()</code> class method.
</p>

<p>
You should always make sure to call the <code>close()</code> class method on this stream to close
the file.
</p>

<p>
<code>read()</code> reads the entire contents of the file and places it into a string.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">open_file</span> = <span style="color: #56B6C2;">open</span>(<span style="color: #56B6C2;">str</span>(Path(<span style="color: #98C379;">"data"</span>) / <span style="color: #98C379;">"processed"</span> / <span style="color: #98C379;">"data.txt"</span>))
<span style="color: #E06C75;">contents_of_file</span> = open_file.read()
open_file.close()  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">should always happen!</span>
<span style="color: #56B6C2;">print</span>(contents_of_file)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; this is some data
# =&gt; on another line
</pre>
</div>
</div>

<div id="outline-container-org2b9c0dc" class="outline-4">
<h4 id="org2b9c0dc"><span class="section-number-4">2.2.2.</span> Reading files &#x2013; lines or entire file?</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
While <code>read</code> works for the last example, you may want to read files in different
ways. Luckily there are a number of methods you could use.
</p>

<div class="org-src-container">
<pre class="src src-python">open_file.read()       <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read entire file</span>
open_file.readline()   <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read a single line</span>
open_file.readline(5)  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read 5 lines</span>
open_file.readlines()  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">returns all lines as a list</span>

<span style="color: #C678DD;">for</span> line <span style="color: #C678DD;">in</span> open_file:  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read one line at a time</span>
    do_something(line)
</pre>
</div>
</div>
</div>

<div id="outline-container-org297839d" class="outline-4">
<h4 id="org297839d"><span class="section-number-4">2.2.3.</span> Reading files</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
It can be a pain to remember to use the <code>.close()</code> every time you open a file. In
Python, we can use <code>open()</code> as a context with the <code>with</code> keyword. This context will
handle the closing of the file as soon as the scope is exited.
</p>

<p>
The syntax for opening a file is as follows:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(<span style="color: #98C379;">"data/processed/data.txt"</span>, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">open_file</span>:
    contents = open_file.read()

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">the file is automatically closed at this point</span>

<span style="color: #56B6C2;">print</span>(contents)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; this is some data
# =&gt; on another line
</pre>
</div>
</div>

<div id="outline-container-org1b6b18e" class="outline-4">
<h4 id="org1b6b18e"><span class="section-number-4">2.2.4.</span> Writing files</h4>
<div class="outline-text-4" id="text-2-2-4">
<p>
The syntax for writing a file is similar to reading a file. The main difference is
the use <code>"w"</code> instead of <code>"r"</code> in the second argument of <code>open</code>. Also, instead of <code>read()</code>,
we use <code>write()</code>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">data</span> = [<span style="color: #98C379;">"this is some data"</span>, <span style="color: #98C379;">"on another line"</span>, <span style="color: #98C379;">"with another line"</span>]
<span style="color: #E06C75;">new_filename</span> = <span style="color: #98C379;">"data/processed/new-data.txt"</span>

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(new_filename, <span style="color: #98C379;">"w"</span>) <span style="color: #C678DD;">as</span> open_file:
    <span style="color: #C678DD;">for</span> line <span style="color: #C678DD;">in</span> data:
        open_file.write(line + <span style="color: #98C379;">"\n"</span>)

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(new_filename, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">open_file</span>:
    new_contents = open_file.read()

<span style="color: #56B6C2;">print</span>(new_contents)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; this is some data
# =&gt; on another line
# =&gt; with another line
</pre>
</div>
</div>

<div id="outline-container-org6e3719a" class="outline-4">
<h4 id="org6e3719a"><span class="section-number-4">2.2.5.</span> Appending to files</h4>
<div class="outline-text-4" id="text-2-2-5">
<p>
Every time we write to a file, the entire contents is deleted and replaced. If we
want to just append to the file instead, we use <code>"a"</code>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">data</span> = [<span style="color: #98C379;">"this is some appended data"</span>]
<span style="color: #E06C75;">new_filename</span> = <span style="color: #98C379;">"data/processed/new-data.txt"</span>

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(new_filename, <span style="color: #98C379;">"a"</span>) <span style="color: #C678DD;">as</span> open_file:
    <span style="color: #C678DD;">for</span> line <span style="color: #C678DD;">in</span> data:
        open_file.write(line + <span style="color: #98C379;">"\n"</span>)

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(new_filename, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">open_file</span>:
    new_contents = open_file.read()

<span style="color: #56B6C2;">print</span>(new_contents)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; this is some data
# =&gt; on another line
# =&gt; with another line
# =&gt; this is some appended data
</pre>
</div>
</div>

<div id="outline-container-org63fef57" class="outline-4">
<h4 id="org63fef57"><span class="section-number-4">2.2.6.</span> Quick exercise &#x2013; reading/writing files</h4>
<div class="outline-text-4" id="text-2-2-6">
<ul class="org-ul">
<li>Using the same text files from the previous exercise, we will want to be able to
read each text file, and parse the information contained in the file.</li>
<li>The output of reading each of the text files should be a list of dictionaries, like
we have seen in previous lectures.</li>
<li>We will go through a sample solution together once you've had the chance to try it
for yourself.</li>
</ul>
</div>
</div>

<div id="outline-container-org75e1f81" class="outline-4">
<h4 id="org75e1f81"><span class="section-number-4">2.2.7.</span> Reading CSV files &#x2013; builtin</h4>
<div class="outline-text-4" id="text-2-2-7">
<p>
When working with common file types, Python has built-in modules to make the process
a little easier. Take, for example, reading and writing a CSV file. Here we are
importing the <code>csv</code> module and in the context of reading the file, we are creating a
CSV reader object. When reading, every line of the CSV file is returned as a list,
thus an entire CSV file is a list of lists.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> csv  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">built-in library</span>

<span style="color: #E06C75;">data_path</span> = <span style="color: #98C379;">"data/processed/data.csv"</span>

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read a csv</span>
<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(data_path, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">csv_file</span>:
    csv_reader = csv.reader(csv_file, delimiter=<span style="color: #98C379;">","</span>)
    <span style="color: #C678DD;">for</span> line <span style="color: #C678DD;">in</span> csv_reader:
        <span style="color: #56B6C2;">print</span>(line)
</pre>
</div>

<pre class="example">
Results: 
# =&gt; ['name', 'id', 'age']
# =&gt; ['jane', '01', '35']
# =&gt; ['james', '02', '50']
</pre>
</div>
</div>

<div id="outline-container-org6e63fdd" class="outline-4">
<h4 id="org6e63fdd"><span class="section-number-4">2.2.8.</span> Writing a CSV file &#x2013; builtin</h4>
<div class="outline-text-4" id="text-2-2-8">
<p>
Writing a CSV file is similar except we are creating a CSV writer object, and are
using <code>writerow</code> instead.
</p>

<div class="org-src-container">
<pre class="src src-python">
<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">write a csv file</span>
<span style="color: #E06C75;">new_data_file</span> = <span style="color: #98C379;">"data/processed/new-data.csv"</span>
<span style="color: #E06C75;">new_data</span> = [[<span style="color: #98C379;">"name"</span>, <span style="color: #98C379;">"age"</span>, <span style="color: #98C379;">"height"</span>], [<span style="color: #98C379;">"jane"</span>, <span style="color: #98C379;">"35"</span>, <span style="color: #98C379;">"6"</span>]]

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(new_data_file, <span style="color: #98C379;">"w"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">csv_file</span>:
    csv_writer = csv.writer(csv_file, delimiter=<span style="color: #98C379;">","</span>)
    <span style="color: #C678DD;">for</span> row <span style="color: #C678DD;">in</span> new_data:
        csv_writer.writerow(row)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e90268" class="outline-4">
<h4 id="org4e90268"><span class="section-number-4">2.2.9.</span> Quick exercise &#x2013; reading/writing CSV files</h4>
<div class="outline-text-4" id="text-2-2-9">
<ul class="org-ul">
<li>Given the parsed data from the previous exercise, write a new CSV file in the <code>data</code> directory.</li>
<li>This CSV file should contain the headings: name, author, release<sub>data</sub>.</li>
<li>The data in the CSV file should be the 3 books with data in the correct columns.</li>
<li>Test that you can read this same CSV file in python.</li>
</ul>
</div>
</div>

<div id="outline-container-org2fb2476" class="outline-4">
<h4 id="org2fb2476"><span class="section-number-4">2.2.10.</span> Read JSON files &#x2013; builtin</h4>
<div class="outline-text-4" id="text-2-2-10">
<p>
Like CSV, json is a common format for storing data. Python includes a package called
<code>json</code> that enables us to read/write to json files with ease.
</p>

<p>
Let's first tackle the process of reading:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> json

<span style="color: #E06C75;">json_file_path</span> = <span style="color: #98C379;">"data/processed/data.json"</span>

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">read a json file</span>
<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(json_file_path, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> <span style="color: #E06C75;">json_file</span>:
    data = json.load(json_file)
    <span style="color: #56B6C2;">print</span>(data)
    <span style="color: #56B6C2;">print</span>(data.keys())
    <span style="color: #56B6C2;">print</span>(data[<span style="color: #98C379;">"names"</span>])
</pre>
</div>

<pre class="example">
Results: 
# =&gt; {'names': ['jane', 'james'], 'ages': [35, 50]}
# =&gt; dict_keys(['names', 'ages'])
# =&gt; ['jane', 'james']
</pre>
</div>
</div>

<div id="outline-container-org8090dec" class="outline-4">
<h4 id="org8090dec"><span class="section-number-4">2.2.11.</span> Write JSON files &#x2013; builtin</h4>
<div class="outline-text-4" id="text-2-2-11">
<p>
While we used <code>json.load</code> to read the file, we use <code>json.dump</code> to write the data to a
json file.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">new_data</span> = {<span style="color: #98C379;">"names"</span>: [<span style="color: #98C379;">"someone-new"</span>], <span style="color: #98C379;">"ages"</span>: [<span style="color: #98C379;">"NA"</span>]}

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">write a json file</span>
<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(<span style="color: #98C379;">"data/processed/new-data.json"</span>, <span style="color: #98C379;">"w"</span>) <span style="color: #C678DD;">as</span> json_file:
    json.dump(new_data, json_file)

<span style="color: #C678DD;">with</span> <span style="color: #56B6C2;">open</span>(<span style="color: #98C379;">"data/processed/new-data.json"</span>, <span style="color: #98C379;">"r"</span>) <span style="color: #C678DD;">as</span> json_file:
    <span style="color: #56B6C2;">print</span>(json.load(json_file))
</pre>
</div>

<pre class="example">
Results: 
# =&gt; {'names': ['someone-new'], 'ages': ['NA']}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org557545a" class="outline-2">
<h2 id="org557545a"><span class="section-number-2">3.</span> Package Management</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orge199513" class="outline-3">
<h3 id="orge199513"><span class="section-number-3">3.1.</span> Package Management</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orgde3076f" class="outline-4">
<h4 id="orgde3076f"><span class="section-number-4">3.1.1.</span> Introduction</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
When working on projects, we may want to use external packages that other people have
written. There are tools in Python to install these packages. However, we may want to
use specific versions, again these tools help us to manage these dependencies between
different packages and these versions of packages.
</p>
</div>
</div>

<div id="outline-container-orgf9863ca" class="outline-4">
<h4 id="orgf9863ca"><span class="section-number-4">3.1.2.</span> Virtual Environments</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
When installing packages, by default, the packages are going to be installed into the
system-level Python. This can be a problem, for example, if you're working on
multiple projects that require different versions of packages.
</p>

<p>
Virtual environments are 'containerised' versions of Python that can be created for
each different project you're working on.
</p>

<p>
We will take a look at package management and virtual environments in Python.
</p>
</div>
</div>
</div>

<div id="outline-container-orgfab2444" class="outline-3">
<h3 id="orgfab2444"><span class="section-number-3">3.2.</span> Anaconda</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org8efefe0" class="outline-4">
<h4 id="org8efefe0"><span class="section-number-4">3.2.1.</span> What is Anaconda?</h4>
<div class="outline-text-4" id="text-3-2-1">

<div id="org31da7e4" class="figure">
<p><img src="images/Anaconda_Logo.png" alt="Anaconda_Logo.png" />
</p>
</div>

<ul class="org-ul">
<li>Distribution of Python and R designed for scientific computing.</li>
<li>We're going to focus on <code>Conda</code>, a package manager in the Anaconda ecosystem.</li>
<li>Helps with package management and deployment.</li>
<li>Create virtual environments to install packages to avoid conflicts with other projects</li>
</ul>
</div>
</div>

<div id="outline-container-org67e8e35" class="outline-4">
<h4 id="org67e8e35"><span class="section-number-4">3.2.2.</span> Installing Anaconda</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
We're going to install miniconda (a minimal installation of
anaconda). <a href="https://docs.conda.io/en/latest/miniconda.html">https://docs.conda.io/en/latest/miniconda.html</a>
</p>

<p>
The steps to install Miniconda are roughly:
</p>

<ul class="org-ul">
<li>Download Miniconda3 Linux 64-bit</li>
<li>Save the file to the disk</li>
<li>Open up a terminal and run the following commands:</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">chmod +x &lt;miniconda-file&gt;.sh
./&lt;miniconda-file&gt;.sh
</pre>
</div>

<p>
Follow the installation instructions (most of the time the defaults are sensible).
</p>
</div>
</div>

<div id="outline-container-org66f80df" class="outline-4">
<h4 id="org66f80df"><span class="section-number-4">3.2.3.</span> Working with Anaconda &#x2013; creating an environment</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
Conda is a command line tool to manage environments. We're going to highlight some of
the most used commands. But for the full list of management, you can use the
instructions at:
<a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html</a>
</p>

<p>
If you're creating a <b>brand new</b> environment, use:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda create --name &lt;name-of-env&gt;
</pre>
</div>

<p>
This will prompt you to confirm you want to create a new environment, whereupon you
enter either a <code>y</code> or <code>n</code>. If <code>y</code> your new environment will be created, but start using the
environment, you will first have to activate it.
</p>
</div>
</div>

<div id="outline-container-orgaca128a" class="outline-4">
<h4 id="orgaca128a"><span class="section-number-4">3.2.4.</span> Working with Anaconda &#x2013; activating an environment</h4>
<div class="outline-text-4" id="text-3-2-4">
<p>
Once you've created a new environment, you can activate it. This is as simple as:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda activate &lt;name-of-env&gt;
</pre>
</div>

<p>
You will notice that your command line prompt has changed from <code>(base)</code> to
<code>(&lt;name-of-env&gt;</code>). And whenever you start a new terminal it will always be <code>(base)</code>.
</p>
</div>
</div>

<div id="outline-container-org7e2fb11" class="outline-4">
<h4 id="org7e2fb11"><span class="section-number-4">3.2.5.</span> Working with Anaconda &#x2013; de-activating an environment</h4>
<div class="outline-text-4" id="text-3-2-5">
<p>
To deactivate an environment, just use:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda deactivate
</pre>
</div>

<p>
or:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda activate base
</pre>
</div>
</div>
</div>


<div id="outline-container-org995a492" class="outline-4">
<h4 id="org995a492"><span class="section-number-4">3.2.6.</span> Working with Anaconda &#x2013; installing using conda</h4>
<div class="outline-text-4" id="text-3-2-6">
<p>
Let's say we want to install a package, say <code>scikit-learn</code> (if we're doing some data
processing or machine learning). To install this package in conda, use:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install scikit-learn
</pre>
</div>

<p>
Conda will then check what packages are needed for <code>scikit-learn</code> to work, and figure
out if anything needs to be upgraded/downgraded to match the required dependencies of
other packages.
</p>

<p>
When Conda has finalised what packages need to change, it will tell you these changes
and ask to confirm. If everything seems okay type <code>y</code>, and enter.
</p>

<p>
<code>scikit-learn</code> is a package in the anaconda repository. For a list of packages, you can
use: <a href="https://anaconda.org/anaconda/repo">https://anaconda.org/anaconda/repo</a>
</p>
</div>
</div>

<div id="outline-container-org6d4681d" class="outline-4">
<h4 id="org6d4681d"><span class="section-number-4">3.2.7.</span> Working with Anaconda &#x2013; package versions</h4>
<div class="outline-text-4" id="text-3-2-7">
<div class="org-src-container">
<pre class="src src-bash">conda install &lt;package-name&gt;=&lt;version-number&gt;
</pre>
</div>
</div>
</div>


<div id="outline-container-org137a72c" class="outline-4">
<h4 id="org137a72c"><span class="section-number-4">3.2.8.</span> Installing a specific version of Python</h4>
<div class="outline-text-4" id="text-3-2-8">
<p>
If we wanted to, we could also change the python version being used in the virtual
environment.
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install <span style="color: #E06C75;">python</span>=3.9
</pre>
</div>

<p>
This will try to install Python version 3.9 providing that the packages you already
have installed support it.
</p>
</div>
</div>

<div id="outline-container-orga5422ab" class="outline-4">
<h4 id="orga5422ab"><span class="section-number-4">3.2.9.</span> Working with Anaconda &#x2013; conda-forge and other repositories</h4>
<div class="outline-text-4" id="text-3-2-9">
<p>
Let's say that the package is not within the basic anaconda repository. You can
specify another repository or channel using the <code>-c</code> flag.
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install -c &lt;channel&gt; &lt;package&gt;
</pre>
</div>

<p>
For example, PyTorch (<a href="https://pytorch.org/">https://pytorch.org/</a>) uses their own channel:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install -c pytorch pytorch 
</pre>
</div>
</div>
</div>

<div id="outline-container-orga33edd5" class="outline-4">
<h4 id="orga33edd5"><span class="section-number-4">3.2.10.</span> Working with Anaconda &#x2013; exporting an environment</h4>
<div class="outline-text-4" id="text-3-2-10">
<p>
We will want to share our research and work with others. To allow others to use the
exact same packages and especially the <b>versions</b> of packages we're using, we want to
export a snapshot of our environment. Conda includes an export command to do just
this:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda env export --no-builds &gt; environment.yml
</pre>
</div>

<p>
Here we exporting our currently activated environment to a file called
<code>environment.yml</code> (common convention) file. I am using the <code>--no-builds</code> flag to improve
compatibility with other operating systems such as Mac OS.
</p>
</div>
</div>

<div id="outline-container-org12b4ea6" class="outline-4">
<h4 id="org12b4ea6"><span class="section-number-4">3.2.11.</span> Working with Anaconda &#x2013; creating environment from existing</h4>
<div class="outline-text-4" id="text-3-2-11">
<p>
To create an environment from an existing environment.yml file, you can use the
following command:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda env create -f environment.yml
</pre>
</div>

<p>
This will create an environment with the same name and install the same versions of
the packages.
</p>
</div>
</div>
</div>

<div id="outline-container-org6a4cec3" class="outline-3">
<h3 id="org6a4cec3"><span class="section-number-3">3.3.</span> Pip</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-orgcbc9299" class="outline-4">
<h4 id="orgcbc9299"><span class="section-number-4">3.3.1.</span> What is Pip?</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
Pip is another package installer for python. If you're reading documentation online
about how to install a certain Python package, the documentation will normally refer
to pip.
</p>

<p>
Pip, like conda, uses a package repository to locate packages. For pip it is called
Pypi (<a href="https://pypi.org">https://pypi.org</a>)
</p>

<p>
We're going to take a look at the most commonly used commands with pip.
</p>
</div>
</div>

<div id="outline-container-org0649795" class="outline-4">
<h4 id="org0649795"><span class="section-number-4">3.3.2.</span> Installing packages with pip</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
If you want to install a package, its as simple as <code>pip install</code>.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install &lt;package-name&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e8ffaa" class="outline-4">
<h4 id="org9e8ffaa"><span class="section-number-4">3.3.3.</span> Installing specific versions</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
Sometimes, though, you will want to install a specific package version. For this use
'==&lt;version-number&gt;' after the name of the package.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install &lt;package-name&gt;==&lt;version-number&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e17f38" class="outline-4">
<h4 id="org2e17f38"><span class="section-number-4">3.3.4.</span> Upgrade packages with pip</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>
If you want upgrade/install the package to the latest version, use the <code>--upgrade</code> flag.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install &lt;package-name&gt; --upgrade
</pre>
</div>
</div>
</div>

<div id="outline-container-org544a316" class="outline-4">
<h4 id="org544a316"><span class="section-number-4">3.3.5.</span> Export requirements file</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
Like exporting with conda, pip also includes a method to capture the currently
installed environment. In pip, this is called <code>freeze</code>.
</p>

<p>
The common convention is to call the file <code>requirements.txt</code>.
</p>

<div class="org-src-container">
<pre class="src src-bash">pip freeze &gt; requirements.txt
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc7cb83" class="outline-4">
<h4 id="orgbc7cb83"><span class="section-number-4">3.3.6.</span> Installing multiple packages from a requirements file</h4>
<div class="outline-text-4" id="text-3-3-6">
<p>
If we want to recreate the environment, we can install multiple packages with
specific versions from a requirements file with:
</p>

<div class="org-src-container">
<pre class="src src-bash">pip install -f requirements.txt
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc7087b" class="outline-4">
<h4 id="orgbc7087b"><span class="section-number-4">3.3.7.</span> Anaconda handles both conda and pip</h4>
<div class="outline-text-4" id="text-3-3-7">
<p>
Conda encompasses pip, which means that when you create a virtual environment with
conda, it can also include pip. So I would recommend using conda to create the
virtual environment and to install packages when you can. But if the package is only
available via pip, then it will be okay to install it using pip as well. When you
export the environment with conda, it will specify what is installed with pip and
what is installed via conda.
</p>

<div class="org-src-container">
<pre class="src src-bash">conda env create -f environment.yml
</pre>
</div>

<p>
When the environment is re-created with conda, it will install the packages from the
correct places, whether that is conda or pip.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org80e211e" class="outline-2">
<h2 id="org80e211e"><span class="section-number-2">4.</span> Better development environments</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org22fd817" class="outline-3">
<h3 id="org22fd817"><span class="section-number-3">4.1.</span> PyCharm</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org33e1085" class="outline-4">
<h4 id="org33e1085"><span class="section-number-4">4.1.1.</span> PyCharm</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
So far we have been using a very basic <b>text editor</b>. This editor is only providing us
with <i>syntax highlighting</i> (the colouring of keywords, etc) and helping with
indentation.
</p>

<p>
PyCharm is not a text editor. PyCharm is an Integrated Development Environment
(<b>IDE</b>). An IDE is a fully fledged environment for programming in a specific
programming language and offers a suite of features that makes programming in a
particular language (Python in this case), a lot easier.
</p>

<p>
Some of the features of an IDE are typically:
</p>
<ul class="org-ul">
<li>Debugging support with breakpoints and variable inspection.</li>
<li>Prompts and auto-completion with documentation support.</li>
<li>Build tools to run and test programs in various configurations.</li>
</ul>

<p>
We will use PyCharm for the rest of this course.
</p>
</div>
</div>

<div id="outline-container-org1206e9b" class="outline-4">
<h4 id="org1206e9b"><span class="section-number-4">4.1.2.</span> PyCharm &#x2013; installing</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Using Ubuntu snaps:
</p>

<div class="org-src-container">
<pre class="src src-bash">snap install pycharm-community --classic
</pre>
</div>

<p>
Or we can download an archive with the executable. The steps to run goes something
like:
</p>

<div class="org-src-container">
<pre class="src src-bash">tar xvf pycharm-community-&lt;version&gt;.tar.gz
bash pycharm-community-&lt;version&gt;/bin/pycharm.sh
</pre>
</div>
</div>
</div>

<div id="outline-container-org04e250f" class="outline-4">
<h4 id="org04e250f"><span class="section-number-4">4.1.3.</span> PyCharm &#x2013; using PyCharm</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
We shall take a look at the following:
</p>

<ul class="org-ul">
<li>Creating a new project.</li>
<li>Specifying the conda environment.</li>
<li>Creating build/run instructions.</li>
<li>Adding new files/folders.</li>
<li>Debugging with breakpoints.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4c72fa0" class="outline-3">
<h3 id="org4c72fa0"><span class="section-number-3">4.2.</span> Jupyter</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-orge0949cf" class="outline-4">
<h4 id="orge0949cf"><span class="section-number-4">4.2.1.</span> What is a Jupyter notebook?</h4>
<div class="outline-text-4" id="text-4-2-1">

<div id="org35f3f70" class="figure">
<p><img src="images/langfr-1024px-Jupyter_logo.png" alt="langfr-1024px-Jupyter_logo.png" width="200px" />
</p>
</div>

<p>
Jupyter notebooks are environments where code is split into cells, where each cell
can be executed independently and immediate results can be inspected.
</p>

<p>
Notebooks can be very useful for data science projects and exploratory work where the
process cannot be clearly defined (and therefore cannot be immediately programmed).
</p>
</div>
</div>

<div id="outline-container-org4c97ccf" class="outline-4">
<h4 id="org4c97ccf"><span class="section-number-4">4.2.2.</span> Installing Jupyter</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
We first need to install Jupyter. In you conda environment type:
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install jupyter
<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">or pip install jupyter</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fa7ac4" class="outline-4">
<h4 id="org9fa7ac4"><span class="section-number-4">4.2.3.</span> Starting the server</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
With Jupyter installed, we can now start the notebook server using:
</p>

<div class="org-src-container">
<pre class="src src-bash">jupyter notebook
</pre>
</div>

<p>
A new browser window will appear. This is the Jupyter interface.
</p>

<p>
If you want to stop the server, press Ctrl+c in the terminal window.
</p>
</div>
</div>

<div id="outline-container-org20697f3" class="outline-4">
<h4 id="org20697f3"><span class="section-number-4">4.2.4.</span> Using the interface</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
We shall take a look at the following:
</p>

<ul class="org-ul">
<li>Creating a new notebook</li>
<li>Different cell types</li>
<li>Executing code cells</li>
<li>Markdown cells</li>
<li>Exporting to a different format</li>
<li>How the notebook gets stored</li>
</ul>
</div>
</div>

<div id="outline-container-org167fdb5" class="outline-4">
<h4 id="org167fdb5"><span class="section-number-4">4.2.5.</span> Markdown 101</h4>
<div class="outline-text-4" id="text-4-2-5">
<p>
We will revisit markdown in a later lecture, but since we're using notebooks, some of
the cells can be of a type markdown. In these cells, we can style the text using
markdown syntax.
</p>

<p>
<a href="https://www.markdownguide.org/basic-syntax/">https://www.markdownguide.org/basic-syntax/</a>
</p>
</div>
</div>

<div id="outline-container-orga010e79" class="outline-4">
<h4 id="orga010e79"><span class="section-number-4">4.2.6.</span> A slightly better environment &#x2013; jupyterlab</h4>
<div class="outline-text-4" id="text-4-2-6">
<p>
The notebook environment is fine, but there exists another package called jupyter-lab
that enhances the environment to include a separate file browser, etc.
</p>

<div class="org-src-container">
<pre class="src src-bash">conda install jupyterlab -c conda-forge

jupyter-lab
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org104e343" class="outline-2">
<h2 id="org104e343"><span class="section-number-2">5.</span> Style guide-line</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org2f2811e" class="outline-3">
<h3 id="org2f2811e"><span class="section-number-3">5.1.</span> Styles</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-org0a487ad" class="outline-4">
<h4 id="org0a487ad"><span class="section-number-4">5.1.1.</span> A sense of style</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
Now that we have looked at syntax you will need to create Python projects, I want to
take a minute to talk about the style of writing Python code.
</p>

<p>
This style can help you create projects that can be maintained and understood by
others but also yourself.
</p>

<p>
Python itself also advocates for an adherence to a particular style of writing Python
code with the PEP8 style guide: <a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>. Though, I
will talk through some of the most important ones, in my opinion.
</p>
</div>
</div>

<div id="outline-container-org1978abd" class="outline-4">
<h4 id="org1978abd"><span class="section-number-4">5.1.2.</span> Meaningful names</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
What does this code do?
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">f</span>(l):
    <span style="color: #E06C75;">x</span> = 0
    <span style="color: #E06C75;">y</span> = 0
    <span style="color: #C678DD;">for</span> i <span style="color: #C678DD;">in</span> <span style="color: #E06C75;">l</span>:
        x += i
        <span style="color: #E06C75;">y</span> += 1
    <span style="color: #C678DD;">return</span> x / y

<span style="color: #E06C75;">a</span> = <span style="color: #56B6C2;">range</span>(100)
<span style="color: #E06C75;">r</span> = f(a)
</pre>
</div>
</div>
</div>

<div id="outline-container-org891cd6c" class="outline-4">
<h4 id="org891cd6c"><span class="section-number-4">5.1.3.</span> Meaningful names</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
What about this one?
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">compute_average</span>(list_of_data):
    <span style="color: #56B6C2;">sum</span> = 0
    <span style="color: #E06C75;">num_elements</span> = 0
    <span style="color: #C678DD;">for</span> element <span style="color: #C678DD;">in</span> <span style="color: #E06C75;">list_of_data</span>:
        <span style="color: #56B6C2;">sum</span> += element
        <span style="color: #E06C75;">num_elements</span> += 1
    <span style="color: #C678DD;">return</span> <span style="color: #56B6C2;">sum</span> / num_elements

<span style="color: #E06C75;">dataset</span> = <span style="color: #56B6C2;">range</span>(100)
<span style="color: #E06C75;">average_value</span> = compute_average(dataset)
</pre>
</div>

<p>
They are both the same code, but the second version is a lot more readable and
understandable because we have used meaningful names for things!
</p>
</div>
</div>

<div id="outline-container-org2e211f2" class="outline-4">
<h4 id="org2e211f2"><span class="section-number-4">5.1.4.</span> Use builtins where possible</h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
Don't re-invent the wheel. Try to use Python's built-in functions/classes if they
exist, they will normally be quicker and more accurate than what you could make in
Python itself. For example:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">dataset</span> = <span style="color: #56B6C2;">range</span>(100)
<span style="color: #E06C75;">average_value</span> = <span style="color: #56B6C2;">sum</span>(dataset) / <span style="color: #56B6C2;">len</span>(dataset)
</pre>
</div>

<p>
or maybe even:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">import</span> numpy <span style="color: #C678DD;">as</span> np
<span style="color: #E06C75;">dataset</span> = <span style="color: #56B6C2;">range</span>(100)
<span style="color: #E06C75;">average_value</span> = np.mean(dataset)
</pre>
</div>
</div>
</div>

<div id="outline-container-org01be934" class="outline-4">
<h4 id="org01be934"><span class="section-number-4">5.1.5.</span> Use docstrings and comments</h4>
<div class="outline-text-4" id="text-5-1-5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">compute_average</span>(list_of_data, exclude=<span style="color: #56B6C2;">None</span>):
    <span style="color: #98C379;">"""</span>
<span style="color: #98C379;">    Compute and return the average value of an iterable list. </span>
<span style="color: #98C379;">    This average excludes any value if specified by exclude</span>

<span style="color: #98C379;">    params: </span>
<span style="color: #98C379;">    - list_of_data: data for which the average is computed </span>
<span style="color: #98C379;">    - exclude: numeric value of values that should not be taken </span>
<span style="color: #98C379;">      into account</span>

<span style="color: #98C379;">    returns: </span>
<span style="color: #98C379;">    The computed average, possibly excluding a value.</span>
<span style="color: #98C379;">    """</span>
    <span style="color: #56B6C2;">sum</span> = 0
    num_elements = 0
    <span style="color: #C678DD;">for</span> element <span style="color: #C678DD;">in</span> list_of_data:
        <span style="color: #C678DD;">if</span> exclude <span style="color: #C678DD;">is</span> <span style="color: #C678DD;">not</span> <span style="color: #56B6C2;">None</span> <span style="color: #C678DD;">and</span> element == exclude:
            <span style="color: #C678DD;">continue</span>  <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">skip this element</span>
        <span style="color: #56B6C2;">sum</span> += element
        num_elements += 1
    <span style="color: #C678DD;">return</span> <span style="color: #56B6C2;">sum</span> / num_elements
</pre>
</div>
</div>
</div>

<div id="outline-container-org80c1c1e" class="outline-4">
<h4 id="org80c1c1e"><span class="section-number-4">5.1.6.</span> Using agreed upon casing</h4>
<div class="outline-text-4" id="text-5-1-6">
<ul class="org-ul">
<li><code>snake_casing</code> for functions and variables</li>
<li>Classes should use <code>CamelCasing</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">this_if_a_function</span>(data_x, data_y):


<span style="color: #C678DD;">class</span> <span style="color: #E5C07B;">BookEntry</span>:
</pre>
</div>
</div>
</div>

<div id="outline-container-org2798fb5" class="outline-4">
<h4 id="org2798fb5"><span class="section-number-4">5.1.7.</span> Use type-annotations if possible</h4>
<div class="outline-text-4" id="text-5-1-7">
<p>
Type annotations can helper your editor (such as PyCharm) find potential issues in
your code. If you use type annotations, the editor can spot types that are not
compatible. For example, a string being used with a division.
</p>

<p>
<a href="https://docs.python.org/3/library/typing.html">https://docs.python.org/3/library/typing.html</a>
<a href="https://realpython.com/python-type-checking/">https://realpython.com/python-type-checking/</a>
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #C678DD;">def</span> <span style="color: #61AFEF;">compute_average</span>(list_of_data: <span style="color: #56B6C2;">list</span>[<span style="color: #56B6C2;">int</span>],
                    exclude: Optional[<span style="color: #56B6C2;">int</span>] = <span style="color: #56B6C2;">None</span>) -&gt; <span style="color: #56B6C2;">float</span>:
    ...
</pre>
</div>
</div>
</div>

<div id="outline-container-orge11898d" class="outline-4">
<h4 id="orge11898d"><span class="section-number-4">5.1.8.</span> Organise your imports</h4>
<div class="outline-text-4" id="text-5-1-8">
<p>
Make the distinction between standard library imports, externally installed imports,
and your own custom imports.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">internal imports</span>
<span style="color: #C678DD;">import</span> os
<span style="color: #C678DD;">from</span> math <span style="color: #C678DD;">import</span> pi

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">external imports</span>
<span style="color: #C678DD;">import</span> numpy <span style="color: #C678DD;">as</span> np
<span style="color: #C678DD;">import</span> pandas <span style="color: #C678DD;">as</span> pd
<span style="color: #C678DD;">import</span> matplotlib.pyplot <span style="color: #C678DD;">as</span> plt

<span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">custom imports</span>
<span style="color: #C678DD;">from</span> src.my_module <span style="color: #C678DD;">import</span> DAGs
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd56d8ed" class="outline-4">
<h4 id="orgd56d8ed"><span class="section-number-4">5.1.9.</span> Functions should do one thing only</h4>
<div class="outline-text-4" id="text-5-1-9">
<p>
Do one thing and do it well. Docstrings can help you understand what your function is
doing, especially if you use the word 'and' in the docstring, you might want to think
about breaking your single function into many parts.
</p>
</div>
</div>

<div id="outline-container-orgab1bf76" class="outline-4">
<h4 id="orgab1bf76"><span class="section-number-4">5.1.10.</span> Functions as re-usability</h4>
<div class="outline-text-4" id="text-5-1-10">
<p>
If you find yourself doing something over and over, a function call help consolidate
duplication and potentially reduce the chance of getting things wrong.
</p>
</div>
</div>

<div id="outline-container-orgb5531f1" class="outline-4">
<h4 id="orgb5531f1"><span class="section-number-4">5.1.11.</span> Be wary of God classes</h4>
<div class="outline-text-4" id="text-5-1-11">
<p>
God classes/God object is a class that is doing too many things or 'knows' about too
much. When designing a class, remember that like a function, in general, it should
manage one thing or concept.
</p>
</div>
</div>

<div id="outline-container-org70bfdf9" class="outline-4">
<h4 id="org70bfdf9"><span class="section-number-4">5.1.12.</span> Documentation</h4>
<div class="outline-text-4" id="text-5-1-12">
<blockquote>
<p>
Comments that contradict the code are worse than no comments. Always make a priority
of keeping the comments up-to-date when the code changes! &#x2013; PEP 8 Style Guide
</p>
</blockquote>

<ul class="org-ul">
<li>Ensure that comments are correct.</li>
<li>Don't over document (i.e. if something is self explanatory, then comments will
distract rather than inform). An example from PEP 8:</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #E06C75;">x</span> = x + 1                 <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">Increment x</span>
<span style="color: #E06C75;">x</span> = x + 1                 <span style="color: #5C6370; font-style: italic;"># </span><span style="color: #5C6370; font-style: italic;">Compensate for border</span>
</pre>
</div>

<ul class="org-ul">
<li>Document what you think will be difficult to understand without some prior knowledge,
such as why a particular decision was made to do something a certain way. Don't
explain, educate the reader.</li>
</ul>
</div>
</div>

<div id="outline-container-org10cece7" class="outline-4">
<h4 id="org10cece7"><span class="section-number-4">5.1.13.</span> Perform testing!</h4>
<div class="outline-text-4" id="text-5-1-13">
<p>
Make sure to write tests, for example, using <code>unittest</code>
(<a href="https://docs.python.org/3/library/unittest.html">https://docs.python.org/3/library/unittest.html</a>). Writing tests can help find source
of bugs/mistakes in your code, and if you change something in the future, you want to
make sure that it still works. Writing tests can automate the process of testing your
code.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 20th September 2022</p>
<p class="author">Author: Jay Morgan</p>
<p class="date">Created: 2022-09-19 Mon 16:42</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
